/* 
===============================================================
   ⚠️ IMPORTANT: ONLY USE TAILWIND 4 SYNTAX ⚠️
===============================================================
   - NEVER use direct color names (text-red-500, bg-blue-400)
   - ALWAYS use arbitrary value syntax: text-[#ef4444] or bg-[hsl(var(--primary))]
   - NEVER use border-border, bg-background, text-foreground (Tailwind 3 syntax)
   - ALWAYS use border-[hsl(var(--border))], bg-[hsl(var(--background))], text-[hsl(var(--foreground))]
   - For fixed sizes, use arbitrary values: h-[3px] not h-px
   - Reference docs: https://tailwindcss.com/docs/upgrade-guide
===============================================================
*/

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Dark foundation */
    --background: 220 13% 18%;        /* Deep blue-gray */
    --foreground: 210 40% 98%;        /* Off-white */
    --card: 220 13% 23%;              /* Slightly lighter deep blue-gray */
    --card-foreground: 210 40% 98%;   /* Off-white */
    --popover: 220 13% 23%;           /* Slightly lighter deep blue-gray */
    --popover-foreground: 210 40% 98%; /* Off-white */
    
    /* Neon primary colors */
    --primary: 326 100% 60%;           /* Neon pink */
    --primary-foreground: 210 40% 98%; /* Off-white */
    
    /* Secondary neon */
    --secondary: 175 98% 60%;          /* Neon cyan */
    --secondary-foreground: 220 13% 18%; /* Deep blue-gray */
    
    /* Supporting colors */
    --muted: 220 13% 28%;              /* Muted dark blue-gray */
    --muted-foreground: 210 40% 80%;   /* Light gray */
    
    /* Accent neon */
    --accent: 265 90% 65%;             /* Neon purple */
    --accent-foreground: 210 40% 98%;  /* Off-white */
    
    /* Alert colors */
    --destructive: 0 90% 60%;          /* Neon red */
    --destructive-foreground: 210 40% 98%; /* Off-white */
    
    /* UI elements */
    --border: 220 13% 30%;             /* Border color */
    --input: 220 13% 30%;              /* Input border */
    --ring: 326 100% 60%;              /* Focus ring (neon pink) */
    --radius: 0.5rem;
    
    /* Additional neon accents */
    --neon-yellow: 60 100% 60%;        /* Neon yellow */
    --neon-green: 145 100% 60%;        /* Neon green */
    --neon-blue: 210 100% 60%;         /* Neon blue */
    
    /* Sidebar specific variables */
    --sidebar-background: 220 13% 20%;         /* Slightly lighter than main background */
    --sidebar-foreground: var(--foreground);
    --sidebar-border: var(--border);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--accent);
    --sidebar-accent-foreground: var(--accent-foreground);
    --sidebar-muted: var(--muted);
    --sidebar-muted-foreground: var(--muted-foreground);
    --sidebar-ring: var(--ring);
    
    /* Spacing Unit */
    --spacing-unit: 0.25rem;           /* 4px at base font size */
    
    /* Border Radius */
    --radius-none: 0;
    --radius-sm: 0.125rem;
    --radius-md: 0.25rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;
    --radius-full: 9999px;
    
    /* Typography */
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-body: 'Rubik', 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'JetBrains Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    
    /* Font Sizes */
    --font-size-xs: 0.75rem;      /* 12px */
    --font-size-sm: 0.875rem;     /* 14px */
    --font-size-base: 1rem;       /* 16px */
    --font-size-lg: 1.125rem;     /* 18px */
    --font-size-xl: 1.25rem;      /* 20px */
    --font-size-2xl: 1.5rem;      /* 24px */
    --font-size-3xl: 1.875rem;    /* 30px */
    --font-size-4xl: 2.25rem;     /* 36px */
    --font-size-5xl: 3rem;        /* 48px */
    
    /* Font Weights */
    --font-weight-thin: 100;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    
    /* Line Heights */
    --line-height-none: 1;        /* tight */
    --line-height-tight: 1.25;    /* headings */
    --line-height-snug: 1.375;    
    --line-height-normal: 1.5;    /* body text */
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;       /* spacious text */
    
    /* Animation Durations */
    --duration-fast: 150ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;
    --duration-slower: 1000ms;
    
    /* Animation Easings */
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-elastic: cubic-bezier(0.68, -0.6, 0.32, 1.6);
    
    /* Neon Glow */
    --glow-sm: 0 0 2px;
    --glow-md: 0 0 4px;
    --glow-lg: 0 0 8px;
    
    /* Grid system variables */
    --grid-gap: calc(var(--spacing-unit) * 8);  /* 2rem */
    --grid-columns: 12;
    --grid-max-width: 1440px;
  }

  .dark {
    /* Dark mode is our default, but we adjust it slightly for true dark mode */
    --background: 220 13% 10%;         /* Deeper blue-gray */
    --foreground: 210 40% 98%;         /* Off-white */
    --card: 220 13% 15%;               /* Slightly lighter deep blue-gray */
    --card-foreground: 210 40% 98%;    /* Off-white */
    --popover: 220 13% 15%;            /* Slightly lighter deep blue-gray */
    --popover-foreground: 210 40% 98%; /* Off-white */
    
    /* Sidebar specific variables - dark mode */
    --sidebar-background: 220 13% 12%;  /* Slightly lighter than main background */
  }

  /* Focus states */
  :root {
    --focus-ring: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--ring));
  }

  .focus-ring:focus-visible {
    outline: none;
    box-shadow: var(--focus-ring);
  }

  * {
    /* NEVER use border-border with Tailwind 4. Always use border-[hsl(var(--border))] instead */
    @apply border-[hsl(var(--border))];
  }
  
  body {
    @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))];
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  ::selection {
    @apply bg-[hsl(var(--primary)/0.2)];
  }
  
  /* Fix for sidebar background */
  .bg-sidebar {
    background-color: hsl(var(--sidebar-background));
  }
  
  .text-sidebar-foreground {
    color: hsl(var(--sidebar-foreground));
  }
  
  .border-sidebar-border {
    border-color: hsl(var(--sidebar-border));
  }

  /* Enhanced sidebar styles for better visibility */
  .sidebar-area {
    box-shadow: 1px 0 5px rgba(0, 0, 0, 0.05);
  }

  body.sidebar-collapsed .sidebar-area {
    width: calc(var(--spacing-unit) * 16) !important; /* 64px */
  }

  .sidebar-icon svg {
    color: hsl(var(--primary));
    stroke-width: 2px;
  }

  .menu-item-hover:hover .sidebar-icon svg {
    color: hsl(var(--primary));
    transform: scale(1.1);
    box-shadow: var(--glow-sm) hsl(var(--primary));
    transition: transform var(--duration-fast) var(--ease-out), 
                box-shadow var(--duration-normal) var(--ease-out);
  }

  .sidebar-menu-item a.active .sidebar-icon svg {
    color: hsl(var(--primary));
    font-weight: bold;
    stroke-width: 2.5px;
    box-shadow: var(--glow-md) hsl(var(--primary));
  }
}

/* Standard spacing utilities */
.space-xs { @apply p-[calc(var(--spacing-unit)*2)]; }
.space-sm { @apply p-[calc(var(--spacing-unit)*4)]; }
.space-md { @apply p-[calc(var(--spacing-unit)*6)]; }
.space-lg { @apply p-[calc(var(--spacing-unit)*8)]; }
.space-xl { @apply p-[calc(var(--spacing-unit)*12)]; }

/* Gap utilities */
.gap-xs { @apply gap-[calc(var(--spacing-unit)*2)]; }
.gap-sm { @apply gap-[calc(var(--spacing-unit)*4)]; }
.gap-md { @apply gap-[calc(var(--spacing-unit)*6)]; }
.gap-lg { @apply gap-[calc(var(--spacing-unit)*8)]; }
.gap-xl { @apply gap-[calc(var(--spacing-unit)*12)]; }

/* Additional custom styles here */

/* Sidebar specific link styles */
[data-sidebar="content"] a {
  text-decoration: none !important;
  padding-top: calc(var(--spacing-unit)*2) !important; /* 8px */
  padding-bottom: calc(var(--spacing-unit)*2) !important; /* 8px */
}

/* Parent UL centered at 98% width when not collapsed */
[data-sidebar="menu"]:not([data-collapsed="true"]) {
  width: 98% !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Unified data-attribute based approach for sidebar collapsed state */
[data-sidebar="content"] {
  padding: 0 !important;
  margin: 0 !important;
}

[data-sidebar="content"][data-collapsed="true"] {
  width: calc(var(--spacing-unit)*16) !important; /* 64px */
  min-width: calc(var(--spacing-unit)*16) !important;
  max-width: calc(var(--spacing-unit)*16) !important;
}

/* Remove all padding from menu completely */
[data-sidebar="menu"] {
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

[data-sidebar="menu"][data-collapsed="true"] {
  align-items: center !important;
  justify-content: center !important;
}

/* Simplify menu item styling */
[data-sidebar="menu-item"] {
  width: 100% !important;
  padding: 0 !important;
  display: flex !important;
}

[data-sidebar="menu-item"][data-collapsed="true"],
[data-sidebar="menu"][data-collapsed="true"] [data-sidebar="menu-item"] {
  justify-content: center !important;
  align-items: center !important;
}

/* Simple link styling */
[data-sidebar="menu"] a,
[data-sidebar="menu"] button {
  padding-left: 0 !important;
  padding-right: 0 !important;
  width: 100% !important;
}

[data-sidebar="menu"][data-collapsed="true"] a,
[data-sidebar="menu"][data-collapsed="true"] button {
  justify-content: center !important;
}

/* Fix for sidebar icons in collapsed state */
[data-sidebar="menu"][data-collapsed="true"] .sidebar-icon {
  margin: 0 auto !important;
  padding: 0 !important;
  width: calc(var(--spacing-unit)*6) !important; /* 24px */
  height: calc(var(--spacing-unit)*6) !important;
  min-width: calc(var(--spacing-unit)*6) !important;
  min-height: calc(var(--spacing-unit)*6) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: relative !important;
  flex-shrink: 0 !important;
}

[data-sidebar="menu"][data-collapsed="true"] .sidebar-icon svg {
  width: calc(var(--spacing-unit)*5) !important; /* 20px */
  height: calc(var(--spacing-unit)*5) !important;
  min-width: calc(var(--spacing-unit)*5) !important;
  min-height: calc(var(--spacing-unit)*5) !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  flex-shrink: 0 !important;
}

/* Universal sidebar icon fix */
body.sidebar-collapsed svg,
body.sidebar-collapsed .lucide,
body.sidebar-collapsed [data-sidebar] svg,
body.sidebar-collapsed .sidebar-icon svg {
  width: calc(var(--spacing-unit)*5) !important; /* 20px */
  height: calc(var(--spacing-unit)*5) !important;
  min-width: calc(var(--spacing-unit)*5) !important;
  min-height: calc(var(--spacing-unit)*5) !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Grid system implementation */
.grid-layout {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns, 12), minmax(0, 1fr));
  gap: var(--grid-gap, calc(var(--spacing-unit) * 6));
  width: 100%;
  max-width: var(--grid-max-width, 1440px);
  margin-left: auto;
  margin-right: auto;
}

@layer utilities {
  /* Grid layout utilities */
  .grid-layout {
    display: grid;
    grid-template-columns: repeat(var(--grid-columns, 12), minmax(0, 1fr));
    gap: var(--grid-gap, 2rem);
    width: 100%;
    max-width: var(--grid-max-width, 1440px);
    margin-left: auto;
    margin-right: auto;
  }
  
  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
  
  .grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  
  .grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
  
  .grid-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
  
  .grid-cols-6 {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }
  
  .grid-cols-12 {
    grid-template-columns: repeat(12, minmax(0, 1fr));
  }
  
  .col-span-1 {
    grid-column: span 1 / span 1;
  }
  
  .col-span-2 {
    grid-column: span 2 / span 2;
  }
  
  .col-span-3 {
    grid-column: span 3 / span 3;
  }
  
  .col-span-4 {
    grid-column: span 4 / span 4;
  }
  
  .col-span-6 {
    grid-column: span 6 / span 6;
  }
  
  .col-span-12 {
    grid-column: span 12 / span 12;
  }
  
  .col-span-full {
    grid-column: 1 / -1;
  }
  
  /* Responsive grid columns */
  @screen md {
    .md\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    
    .md\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    
    .md\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
    
    .md\:col-span-2 {
      grid-column: span 2 / span 2;
    }
    
    .md\:col-span-3 {
      grid-column: span 3 / span 3;
    }
    
    .md\:col-span-6 {
      grid-column: span 6 / span 6;
    }
  }
  
  @screen lg {
    .lg\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    
    .lg\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
    
    .lg\:col-span-3 {
      grid-column: span 3 / span 3;
    }
    
    .lg\:col-span-4 {
      grid-column: span 4 / span 4;
    }
    
    .lg\:col-span-8 {
      grid-column: span 8 / span 8;
    }
    
    .lg\:col-span-9 {
      grid-column: span 9 / span 9;
    }
  }
  
  /* Widget container */
  .widget-container {
    @apply h-full flex flex-col;
  }
  
  /* Debug grid (for development) */
  .debug-grid {
    /* NEVER use direct color names like border-pink-500 with Tailwind 4. 
       Always use arbitrary value syntax like border-[#ec4899] or border-[hsl(var(--color-var))] */
    @apply border border-[#ec4899];
  }
  
  .debug-grid > * {
    /* NEVER use direct color names like border-blue-400 with Tailwind 4 */
    @apply border border-dashed border-[#60a5fa] p-[0.5rem];
  }
  
  /* Consistent spacing utilities */
  .space-xs {
    @apply p-[0.5rem];
  }
  
  .space-sm {
    @apply p-[1rem];
  }
  
  .space-md {
    @apply p-[1.5rem];
  }
  
  .space-lg {
    @apply p-[2rem];
  }
  
  .space-xl {
    @apply p-[2.5rem];
  }
  
  .gap-xs {
    @apply gap-[0.5rem];
  }
  
  .gap-sm {
    @apply gap-[1rem];
  }
  
  .gap-md {
    @apply gap-[1.5rem];
  }
  
  .gap-lg {
    @apply gap-[2rem];
  }
  
  .gap-xl {
    @apply gap-[2.5rem];
  }
}